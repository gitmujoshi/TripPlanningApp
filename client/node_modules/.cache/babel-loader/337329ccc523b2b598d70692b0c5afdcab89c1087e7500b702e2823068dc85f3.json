{"ast":null,"code":"var _jsxFileName = \"/Users/mukeshjoshi/gitprojects/PlanningApp/client/src/components/TripPlanner.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Container, Paper, Typography, TextField, Button, Box, Grid, MenuItem, Chip, Dialog, DialogTitle, DialogContent, DialogActions, Alert, CircularProgress, useTheme, useMediaQuery } from '@mui/material';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { Add as AddIcon } from '@mui/icons-material';\nimport { useTrips } from '../contexts/TripContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialFormState = {\n  destination: '',\n  country: '',\n  startDate: null,\n  endDate: null,\n  description: '',\n  image: '',\n  budget: {\n    amount: 0,\n    currency: 'USD'\n  },\n  activities: [],\n  accommodation: {\n    name: '',\n    address: '',\n    checkIn: null,\n    checkOut: null,\n    bookingReference: ''\n  },\n  transportation: {\n    type: '',\n    bookingReference: '',\n    departureTime: null,\n    arrivalTime: null,\n    notes: ''\n  },\n  status: 'planned'\n};\nconst currencies = ['USD', 'EUR', 'GBP', 'JPY', 'AUD', 'CAD'];\nconst transportationTypes = ['Flight', 'Train', 'Bus', 'Car', 'Ship', 'Other'];\nconst tripStatuses = ['planned', 'ongoing', 'completed', 'cancelled'];\nconst TripPlanner = () => {\n  _s();\n  var _validationErrors$bud, _validationErrors$bud2;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const {\n    createTrip,\n    updateTrip,\n    getTrip,\n    loading,\n    error\n  } = useTrips();\n  const [formData, setFormData] = useState(initialFormState);\n  const [validationErrors, setValidationErrors] = useState({});\n  const [activityDialogOpen, setActivityDialogOpen] = useState(false);\n  const [currentActivity, setCurrentActivity] = useState({\n    name: '',\n    date: null,\n    location: '',\n    notes: ''\n  });\n  useEffect(() => {\n    const fetchTripData = async () => {\n      if (id) {\n        try {\n          var _tripData$activities, _tripData$accommodati, _tripData$accommodati2, _tripData$accommodati3, _tripData$accommodati4, _tripData$accommodati5, _tripData$transportat, _tripData$transportat2, _tripData$transportat3, _tripData$transportat4, _tripData$transportat5;\n          const tripData = await getTrip(id);\n          if (!tripData) {\n            throw new Error('Trip not found');\n          }\n          // Convert date strings to Date objects\n          const formattedTripData = {\n            ...tripData,\n            startDate: tripData.startDate ? new Date(tripData.startDate) : null,\n            endDate: tripData.endDate ? new Date(tripData.endDate) : null,\n            activities: ((_tripData$activities = tripData.activities) === null || _tripData$activities === void 0 ? void 0 : _tripData$activities.map(activity => ({\n              ...activity,\n              date: activity.date ? new Date(activity.date) : null\n            }))) || [],\n            accommodation: {\n              ...tripData.accommodation,\n              checkIn: (_tripData$accommodati = tripData.accommodation) !== null && _tripData$accommodati !== void 0 && _tripData$accommodati.checkIn ? new Date(tripData.accommodation.checkIn) : null,\n              checkOut: (_tripData$accommodati2 = tripData.accommodation) !== null && _tripData$accommodati2 !== void 0 && _tripData$accommodati2.checkOut ? new Date(tripData.accommodation.checkOut) : null,\n              name: ((_tripData$accommodati3 = tripData.accommodation) === null || _tripData$accommodati3 === void 0 ? void 0 : _tripData$accommodati3.name) || '',\n              address: ((_tripData$accommodati4 = tripData.accommodation) === null || _tripData$accommodati4 === void 0 ? void 0 : _tripData$accommodati4.address) || '',\n              bookingReference: ((_tripData$accommodati5 = tripData.accommodation) === null || _tripData$accommodati5 === void 0 ? void 0 : _tripData$accommodati5.bookingReference) || ''\n            },\n            transportation: {\n              ...tripData.transportation,\n              departureTime: (_tripData$transportat = tripData.transportation) !== null && _tripData$transportat !== void 0 && _tripData$transportat.departureTime ? new Date(tripData.transportation.departureTime) : null,\n              arrivalTime: (_tripData$transportat2 = tripData.transportation) !== null && _tripData$transportat2 !== void 0 && _tripData$transportat2.arrivalTime ? new Date(tripData.transportation.arrivalTime) : null,\n              type: ((_tripData$transportat3 = tripData.transportation) === null || _tripData$transportat3 === void 0 ? void 0 : _tripData$transportat3.type) || '',\n              bookingReference: ((_tripData$transportat4 = tripData.transportation) === null || _tripData$transportat4 === void 0 ? void 0 : _tripData$transportat4.bookingReference) || '',\n              notes: ((_tripData$transportat5 = tripData.transportation) === null || _tripData$transportat5 === void 0 ? void 0 : _tripData$transportat5.notes) || ''\n            }\n          };\n          setFormData(formattedTripData);\n        } catch (err) {\n          var _err$response, _err$response$data;\n          console.error('Error fetching trip:', err);\n          const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message || 'Failed to fetch trip';\n          setValidationErrors({\n            destination: errorMessage\n          });\n          // Optionally navigate back to trips page after a delay\n          setTimeout(() => {\n            navigate('/trips');\n          }, 3000);\n        }\n      }\n    };\n    fetchTripData();\n  }, [id, getTrip, navigate]);\n  const validateForm = () => {\n    const errors = {};\n    let isValid = true;\n    if (!formData.destination.trim()) {\n      errors.destination = 'Destination is required';\n      isValid = false;\n    }\n    if (!formData.country.trim()) {\n      errors.country = 'Country is required';\n      isValid = false;\n    }\n    if (!formData.startDate) {\n      errors.startDate = 'Start date is required';\n      isValid = false;\n    }\n    if (!formData.endDate) {\n      errors.endDate = 'End date is required';\n      isValid = false;\n    }\n    if (formData.startDate && formData.endDate && formData.startDate > formData.endDate) {\n      errors.endDate = 'End date must be after start date';\n      isValid = false;\n    }\n    if (formData.budget.amount < 0) {\n      errors.budget = {\n        amount: 'Budget amount cannot be negative'\n      };\n      isValid = false;\n    }\n    setValidationErrors(errors);\n    return isValid;\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n    // Clear validation error when field is edited\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setValidationErrors(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: undefined\n        }\n      }));\n    } else {\n      setValidationErrors(prev => ({\n        ...prev,\n        [name]: undefined\n      }));\n    }\n  };\n  const handleDateChange = (date, field) => {\n    if (field.includes('.')) {\n      const [parent, child] = field.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: date\n        }\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [field]: date\n      }));\n    }\n    // Clear validation error when date is changed\n    if (field.includes('.')) {\n      const [parent, child] = field.split('.');\n      setValidationErrors(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: undefined\n        }\n      }));\n    } else {\n      setValidationErrors(prev => ({\n        ...prev,\n        [field]: undefined\n      }));\n    }\n  };\n  const handleActivityDialogOpen = activity => {\n    if (activity) {\n      setCurrentActivity(activity);\n    } else {\n      setCurrentActivity({\n        name: '',\n        date: null,\n        location: '',\n        notes: ''\n      });\n    }\n    setActivityDialogOpen(true);\n  };\n  const handleActivityDialogClose = () => {\n    setActivityDialogOpen(false);\n    setCurrentActivity({\n      name: '',\n      date: null,\n      location: '',\n      notes: ''\n    });\n  };\n  const handleActivitySave = () => {\n    if (currentActivity.index !== undefined) {\n      const newActivities = [...formData.activities];\n      newActivities[currentActivity.index] = {\n        name: currentActivity.name,\n        date: currentActivity.date,\n        location: currentActivity.location,\n        notes: currentActivity.notes\n      };\n      setFormData(prev => ({\n        ...prev,\n        activities: newActivities\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        activities: [...prev.activities, {\n          name: currentActivity.name,\n          date: currentActivity.date,\n          location: currentActivity.location,\n          notes: currentActivity.notes\n        }]\n      }));\n    }\n    handleActivityDialogClose();\n  };\n  const handleActivityDelete = index => {\n    setFormData(prev => ({\n      ...prev,\n      activities: prev.activities.filter((_, i) => i !== index)\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    try {\n      if (id) {\n        await updateTrip(id, formData);\n      } else {\n        await createTrip(formData);\n      }\n      navigate('/trips');\n    } catch (err) {\n      console.error('Error saving trip:', err);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        py: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n    dateAdapter: AdapterDateFns,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        py: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: {\n            xs: 2,\n            sm: 3,\n            md: 4\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          gutterBottom: true,\n          children: id ? 'Edit Trip' : 'Plan New Trip'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            mb: 3\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Basic Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Destination\",\n                name: \"destination\",\n                value: formData.destination,\n                onChange: handleInputChange,\n                required: true,\n                error: !!validationErrors.destination,\n                helperText: validationErrors.destination\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Country\",\n                name: \"country\",\n                value: formData.country,\n                onChange: handleInputChange,\n                required: true,\n                error: !!validationErrors.country,\n                helperText: validationErrors.country\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                label: \"Start Date\",\n                value: formData.startDate,\n                onChange: date => handleDateChange(date, 'startDate'),\n                slotProps: {\n                  textField: {\n                    fullWidth: true,\n                    required: true,\n                    error: !!validationErrors.startDate,\n                    helperText: validationErrors.startDate\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                label: \"End Date\",\n                value: formData.endDate,\n                onChange: date => handleDateChange(date, 'endDate'),\n                slotProps: {\n                  textField: {\n                    fullWidth: true,\n                    required: true,\n                    error: !!validationErrors.endDate,\n                    helperText: validationErrors.endDate\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Description\",\n                name: \"description\",\n                value: formData.description,\n                onChange: handleInputChange,\n                multiline: true,\n                rows: 4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Image URL\",\n                name: \"image\",\n                value: formData.image,\n                onChange: handleInputChange,\n                placeholder: \"Enter an image URL for your destination\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Budget\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Amount\",\n                name: \"budget.amount\",\n                type: \"number\",\n                value: formData.budget.amount,\n                onChange: handleInputChange,\n                error: !!((_validationErrors$bud = validationErrors.budget) !== null && _validationErrors$bud !== void 0 && _validationErrors$bud.amount),\n                helperText: (_validationErrors$bud2 = validationErrors.budget) === null || _validationErrors$bud2 === void 0 ? void 0 : _validationErrors$bud2.amount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                select: true,\n                label: \"Currency\",\n                name: \"budget.currency\",\n                value: formData.budget.currency,\n                onChange: handleInputChange,\n                children: currencies.map(currency => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: currency,\n                  children: currency\n                }, currency, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  mb: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  children: \"Activities\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 32\n                  }, this),\n                  onClick: () => handleActivityDialogOpen(),\n                  children: \"Add Activity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  flexWrap: 'wrap',\n                  gap: 1\n                },\n                children: formData.activities.map((activity, index) => /*#__PURE__*/_jsxDEV(Chip, {\n                  label: activity.name,\n                  onDelete: () => handleActivityDelete(index),\n                  onClick: () => handleActivityDialogOpen({\n                    ...activity,\n                    index\n                  }),\n                  sx: {\n                    m: 0.5\n                  }\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Accommodation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Name\",\n                name: \"accommodation.name\",\n                value: formData.accommodation.name,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Address\",\n                name: \"accommodation.address\",\n                value: formData.accommodation.address,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                label: \"Check-in Date\",\n                value: formData.accommodation.checkIn,\n                onChange: date => handleDateChange(date, 'accommodation.checkIn'),\n                slotProps: {\n                  textField: {\n                    fullWidth: true\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                label: \"Check-out Date\",\n                value: formData.accommodation.checkOut,\n                onChange: date => handleDateChange(date, 'accommodation.checkOut'),\n                slotProps: {\n                  textField: {\n                    fullWidth: true\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Booking Reference\",\n                name: \"accommodation.bookingReference\",\n                value: formData.accommodation.bookingReference,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Transportation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                select: true,\n                label: \"Type\",\n                name: \"transportation.type\",\n                value: formData.transportation.type,\n                onChange: handleInputChange,\n                children: transportationTypes.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: type,\n                  children: type\n                }, type, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Booking Reference\",\n                name: \"transportation.bookingReference\",\n                value: formData.transportation.bookingReference,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                label: \"Departure Time\",\n                value: formData.transportation.departureTime,\n                onChange: date => handleDateChange(date, 'transportation.departureTime'),\n                slotProps: {\n                  textField: {\n                    fullWidth: true\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                label: \"Arrival Time\",\n                value: formData.transportation.arrivalTime,\n                onChange: date => handleDateChange(date, 'transportation.arrivalTime'),\n                slotProps: {\n                  textField: {\n                    fullWidth: true\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Transportation Notes\",\n                name: \"transportation.notes\",\n                value: formData.transportation.notes,\n                onChange: handleInputChange,\n                multiline: true,\n                rows: 2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                select: true,\n                label: \"Trip Status\",\n                name: \"status\",\n                value: formData.status,\n                onChange: handleInputChange,\n                children: tripStatuses.map(status => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: status,\n                  children: status.charAt(0).toUpperCase() + status.slice(1)\n                }, status, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  gap: 2,\n                  justifyContent: 'flex-end'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  onClick: () => navigate('/trips'),\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  variant: \"contained\",\n                  color: \"primary\",\n                  children: id ? 'Update Trip' : 'Create Trip'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: activityDialogOpen,\n        onClose: handleActivityDialogClose,\n        maxWidth: \"sm\",\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: currentActivity.index !== undefined ? 'Edit Activity' : 'Add Activity'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              pt: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Activity Name\",\n                  value: currentActivity.name,\n                  onChange: e => setCurrentActivity(prev => ({\n                    ...prev,\n                    name: e.target.value\n                  })),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                  label: \"Activity Date\",\n                  value: currentActivity.date,\n                  onChange: date => setCurrentActivity(prev => ({\n                    ...prev,\n                    date\n                  })),\n                  slotProps: {\n                    textField: {\n                      fullWidth: true\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Location\",\n                  value: currentActivity.location,\n                  onChange: e => setCurrentActivity(prev => ({\n                    ...prev,\n                    location: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Notes\",\n                  value: currentActivity.notes,\n                  onChange: e => setCurrentActivity(prev => ({\n                    ...prev,\n                    notes: e.target.value\n                  })),\n                  multiline: true,\n                  rows: 2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 672,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleActivityDialogClose,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleActivitySave,\n            variant: \"contained\",\n            disabled: !currentActivity.name,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 354,\n    columnNumber: 5\n  }, this);\n};\n_s(TripPlanner, \"QOgCu2WwqZGG5v3H7RVF0iii1ec=\", false, function () {\n  return [useParams, useNavigate, useTheme, useMediaQuery, useTrips];\n});\n_c = TripPlanner;\nexport default TripPlanner;\nvar _c;\n$RefreshReg$(_c, \"TripPlanner\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Container","Paper","Typography","TextField","Button","Box","Grid","MenuItem","Chip","Dialog","DialogTitle","DialogContent","DialogActions","Alert","CircularProgress","useTheme","useMediaQuery","DatePicker","LocalizationProvider","AdapterDateFns","Add","AddIcon","useTrips","jsxDEV","_jsxDEV","initialFormState","destination","country","startDate","endDate","description","image","budget","amount","currency","activities","accommodation","name","address","checkIn","checkOut","bookingReference","transportation","type","departureTime","arrivalTime","notes","status","currencies","transportationTypes","tripStatuses","TripPlanner","_s","_validationErrors$bud","_validationErrors$bud2","id","navigate","theme","isMobile","breakpoints","down","createTrip","updateTrip","getTrip","loading","error","formData","setFormData","validationErrors","setValidationErrors","activityDialogOpen","setActivityDialogOpen","currentActivity","setCurrentActivity","date","location","fetchTripData","_tripData$activities","_tripData$accommodati","_tripData$accommodati2","_tripData$accommodati3","_tripData$accommodati4","_tripData$accommodati5","_tripData$transportat","_tripData$transportat2","_tripData$transportat3","_tripData$transportat4","_tripData$transportat5","tripData","Error","formattedTripData","Date","map","activity","err","_err$response","_err$response$data","console","errorMessage","response","data","message","setTimeout","validateForm","errors","isValid","trim","handleInputChange","e","value","target","includes","parent","child","split","prev","undefined","handleDateChange","field","handleActivityDialogOpen","handleActivityDialogClose","handleActivitySave","index","newActivities","handleActivityDelete","filter","_","i","handleSubmit","preventDefault","sx","display","justifyContent","py","children","fileName","_jsxFileName","lineNumber","columnNumber","dateAdapter","maxWidth","p","xs","sm","md","variant","component","gutterBottom","severity","mb","onSubmit","container","spacing","item","fullWidth","label","onChange","required","helperText","slotProps","textField","multiline","rows","placeholder","select","alignItems","startIcon","onClick","flexWrap","gap","onDelete","m","charAt","toUpperCase","slice","color","open","onClose","pt","disabled","_c","$RefreshReg$"],"sources":["/Users/mukeshjoshi/gitprojects/PlanningApp/client/src/components/TripPlanner.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  Box,\n  Grid,\n  MenuItem,\n  Chip,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Alert,\n  CircularProgress,\n  useTheme,\n  useMediaQuery,\n} from '@mui/material';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport {\n  Add as AddIcon,\n  Delete as DeleteIcon,\n  Edit as EditIcon,\n} from '@mui/icons-material';\nimport { useTrips } from '../contexts/TripContext';\n\ninterface Activity {\n  name: string;\n  date: Date | null;\n  location: string;\n  notes: string;\n}\n\ninterface TripForm {\n  destination: string;\n  country: string;\n  startDate: Date | null;\n  endDate: Date | null;\n  description: string;\n  image: string;\n  budget: {\n    amount: number;\n    currency: string;\n  };\n  activities: Activity[];\n  accommodation: {\n    name: string;\n    address: string;\n    checkIn: Date | null;\n    checkOut: Date | null;\n    bookingReference: string;\n  };\n  transportation: {\n    type: string;\n    bookingReference: string;\n    departureTime: Date | null;\n    arrivalTime: Date | null;\n    notes: string;\n  };\n  status: 'planned' | 'ongoing' | 'completed' | 'cancelled';\n}\n\nconst initialFormState: TripForm = {\n  destination: '',\n  country: '',\n  startDate: null,\n  endDate: null,\n  description: '',\n  image: '',\n  budget: {\n    amount: 0,\n    currency: 'USD',\n  },\n  activities: [],\n  accommodation: {\n    name: '',\n    address: '',\n    checkIn: null,\n    checkOut: null,\n    bookingReference: '',\n  },\n  transportation: {\n    type: '',\n    bookingReference: '',\n    departureTime: null,\n    arrivalTime: null,\n    notes: '',\n  },\n  status: 'planned',\n};\n\nconst currencies = ['USD', 'EUR', 'GBP', 'JPY', 'AUD', 'CAD'];\nconst transportationTypes = ['Flight', 'Train', 'Bus', 'Car', 'Ship', 'Other'];\nconst tripStatuses = ['planned', 'ongoing', 'completed', 'cancelled'];\n\ninterface ValidationErrors {\n  destination?: string;\n  country?: string;\n  startDate?: string;\n  endDate?: string;\n  budget?: {\n    amount?: string;\n  };\n}\n\nconst TripPlanner: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  \n  const { createTrip, updateTrip, getTrip, loading, error } = useTrips();\n  const [formData, setFormData] = useState<TripForm>(initialFormState);\n  const [validationErrors, setValidationErrors] = useState<ValidationErrors>({});\n  const [activityDialogOpen, setActivityDialogOpen] = useState(false);\n  const [currentActivity, setCurrentActivity] = useState<Activity & { index?: number }>({\n    name: '',\n    date: null,\n    location: '',\n    notes: '',\n  });\n\n  useEffect(() => {\n    const fetchTripData = async () => {\n      if (id) {\n        try {\n          const tripData = await getTrip(id);\n          if (!tripData) {\n            throw new Error('Trip not found');\n          }\n          // Convert date strings to Date objects\n          const formattedTripData = {\n            ...tripData,\n            startDate: tripData.startDate ? new Date(tripData.startDate) : null,\n            endDate: tripData.endDate ? new Date(tripData.endDate) : null,\n            activities: tripData.activities?.map(activity => ({\n              ...activity,\n              date: activity.date ? new Date(activity.date) : null,\n            })) || [],\n            accommodation: {\n              ...tripData.accommodation,\n              checkIn: tripData.accommodation?.checkIn ? new Date(tripData.accommodation.checkIn) : null,\n              checkOut: tripData.accommodation?.checkOut ? new Date(tripData.accommodation.checkOut) : null,\n              name: tripData.accommodation?.name || '',\n              address: tripData.accommodation?.address || '',\n              bookingReference: tripData.accommodation?.bookingReference || '',\n            },\n            transportation: {\n              ...tripData.transportation,\n              departureTime: tripData.transportation?.departureTime ? new Date(tripData.transportation.departureTime) : null,\n              arrivalTime: tripData.transportation?.arrivalTime ? new Date(tripData.transportation.arrivalTime) : null,\n              type: tripData.transportation?.type || '',\n              bookingReference: tripData.transportation?.bookingReference || '',\n              notes: tripData.transportation?.notes || '',\n            },\n          };\n          setFormData(formattedTripData);\n        } catch (err: any) {\n          console.error('Error fetching trip:', err);\n          const errorMessage = err.response?.data?.message || err.message || 'Failed to fetch trip';\n          setValidationErrors({ destination: errorMessage });\n          // Optionally navigate back to trips page after a delay\n          setTimeout(() => {\n            navigate('/trips');\n          }, 3000);\n        }\n      }\n    };\n\n    fetchTripData();\n  }, [id, getTrip, navigate]);\n\n  const validateForm = (): boolean => {\n    const errors: ValidationErrors = {};\n    let isValid = true;\n\n    if (!formData.destination.trim()) {\n      errors.destination = 'Destination is required';\n      isValid = false;\n    }\n\n    if (!formData.country.trim()) {\n      errors.country = 'Country is required';\n      isValid = false;\n    }\n\n    if (!formData.startDate) {\n      errors.startDate = 'Start date is required';\n      isValid = false;\n    }\n\n    if (!formData.endDate) {\n      errors.endDate = 'End date is required';\n      isValid = false;\n    }\n\n    if (formData.startDate && formData.endDate && formData.startDate > formData.endDate) {\n      errors.endDate = 'End date must be after start date';\n      isValid = false;\n    }\n\n    if (formData.budget.amount < 0) {\n      errors.budget = { amount: 'Budget amount cannot be negative' };\n      isValid = false;\n    }\n\n    setValidationErrors(errors);\n    return isValid;\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...(prev[parent as keyof TripForm] as any),\n          [child]: value,\n        },\n      }));\n    } else {\n      setFormData(prev => ({ ...prev, [name]: value }));\n    }\n    // Clear validation error when field is edited\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setValidationErrors(prev => ({\n        ...prev,\n        [parent]: { ...(prev[parent as keyof ValidationErrors] as any), [child]: undefined },\n      }));\n    } else {\n      setValidationErrors(prev => ({ ...prev, [name]: undefined }));\n    }\n  };\n\n  const handleDateChange = (date: Date | null, field: string) => {\n    if (field.includes('.')) {\n      const [parent, child] = field.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...(prev[parent as keyof TripForm] as any),\n          [child]: date,\n        },\n      }));\n    } else {\n      setFormData(prev => ({ ...prev, [field]: date }));\n    }\n    // Clear validation error when date is changed\n    if (field.includes('.')) {\n      const [parent, child] = field.split('.');\n      setValidationErrors(prev => ({\n        ...prev,\n        [parent]: { ...(prev[parent as keyof ValidationErrors] as any), [child]: undefined },\n      }));\n    } else {\n      setValidationErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const handleActivityDialogOpen = (activity?: Activity & { index?: number }) => {\n    if (activity) {\n      setCurrentActivity(activity);\n    } else {\n      setCurrentActivity({\n        name: '',\n        date: null,\n        location: '',\n        notes: '',\n      });\n    }\n    setActivityDialogOpen(true);\n  };\n\n  const handleActivityDialogClose = () => {\n    setActivityDialogOpen(false);\n    setCurrentActivity({\n      name: '',\n      date: null,\n      location: '',\n      notes: '',\n    });\n  };\n\n  const handleActivitySave = () => {\n    if (currentActivity.index !== undefined) {\n      const newActivities = [...formData.activities];\n      newActivities[currentActivity.index] = {\n        name: currentActivity.name,\n        date: currentActivity.date,\n        location: currentActivity.location,\n        notes: currentActivity.notes,\n      };\n      setFormData(prev => ({ ...prev, activities: newActivities }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        activities: [\n          ...prev.activities,\n          {\n            name: currentActivity.name,\n            date: currentActivity.date,\n            location: currentActivity.location,\n            notes: currentActivity.notes,\n          },\n        ],\n      }));\n    }\n    handleActivityDialogClose();\n  };\n\n  const handleActivityDelete = (index: number) => {\n    setFormData(prev => ({\n      ...prev,\n      activities: prev.activities.filter((_, i) => i !== index),\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    try {\n      if (id) {\n        await updateTrip(id, formData);\n      } else {\n        await createTrip(formData);\n      }\n      navigate('/trips');\n    } catch (err) {\n      console.error('Error saving trip:', err);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Container sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n        <CircularProgress />\n      </Container>\n    );\n  }\n\n  return (\n    <LocalizationProvider dateAdapter={AdapterDateFns}>\n      <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n        <Paper sx={{ p: { xs: 2, sm: 3, md: 4 } }}>\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n            {id ? 'Edit Trip' : 'Plan New Trip'}\n          </Typography>\n\n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\n              {error}\n            </Alert>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            <Grid container spacing={3}>\n              {/* Basic Information */}\n              <Grid item xs={12}>\n                <Typography variant=\"h6\" gutterBottom>\n                  Basic Information\n                </Typography>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Destination\"\n                  name=\"destination\"\n                  value={formData.destination}\n                  onChange={handleInputChange}\n                  required\n                  error={!!validationErrors.destination}\n                  helperText={validationErrors.destination}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Country\"\n                  name=\"country\"\n                  value={formData.country}\n                  onChange={handleInputChange}\n                  required\n                  error={!!validationErrors.country}\n                  helperText={validationErrors.country}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <DatePicker\n                  label=\"Start Date\"\n                  value={formData.startDate}\n                  onChange={(date) => handleDateChange(date, 'startDate')}\n                  slotProps={{\n                    textField: {\n                      fullWidth: true,\n                      required: true,\n                      error: !!validationErrors.startDate,\n                      helperText: validationErrors.startDate,\n                    },\n                  }}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <DatePicker\n                  label=\"End Date\"\n                  value={formData.endDate}\n                  onChange={(date) => handleDateChange(date, 'endDate')}\n                  slotProps={{\n                    textField: {\n                      fullWidth: true,\n                      required: true,\n                      error: !!validationErrors.endDate,\n                      helperText: validationErrors.endDate,\n                    },\n                  }}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  label=\"Description\"\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleInputChange}\n                  multiline\n                  rows={4}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  label=\"Image URL\"\n                  name=\"image\"\n                  value={formData.image}\n                  onChange={handleInputChange}\n                  placeholder=\"Enter an image URL for your destination\"\n                />\n              </Grid>\n\n              {/* Budget */}\n              <Grid item xs={12}>\n                <Typography variant=\"h6\" gutterBottom>\n                  Budget\n                </Typography>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Amount\"\n                  name=\"budget.amount\"\n                  type=\"number\"\n                  value={formData.budget.amount}\n                  onChange={handleInputChange}\n                  error={!!validationErrors.budget?.amount}\n                  helperText={validationErrors.budget?.amount}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  select\n                  label=\"Currency\"\n                  name=\"budget.currency\"\n                  value={formData.budget.currency}\n                  onChange={handleInputChange}\n                >\n                  {currencies.map((currency) => (\n                    <MenuItem key={currency} value={currency}>\n                      {currency}\n                    </MenuItem>\n                  ))}\n                </TextField>\n              </Grid>\n\n              {/* Activities */}\n              <Grid item xs={12}>\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n                  <Typography variant=\"h6\">Activities</Typography>\n                  <Button\n                    variant=\"contained\"\n                    startIcon={<AddIcon />}\n                    onClick={() => handleActivityDialogOpen()}\n                  >\n                    Add Activity\n                  </Button>\n                </Box>\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n                  {formData.activities.map((activity, index) => (\n                    <Chip\n                      key={index}\n                      label={activity.name}\n                      onDelete={() => handleActivityDelete(index)}\n                      onClick={() => handleActivityDialogOpen({ ...activity, index })}\n                      sx={{ m: 0.5 }}\n                    />\n                  ))}\n                </Box>\n              </Grid>\n\n              {/* Accommodation */}\n              <Grid item xs={12}>\n                <Typography variant=\"h6\" gutterBottom>\n                  Accommodation\n                </Typography>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Name\"\n                  name=\"accommodation.name\"\n                  value={formData.accommodation.name}\n                  onChange={handleInputChange}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Address\"\n                  name=\"accommodation.address\"\n                  value={formData.accommodation.address}\n                  onChange={handleInputChange}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <DatePicker\n                  label=\"Check-in Date\"\n                  value={formData.accommodation.checkIn}\n                  onChange={(date) => handleDateChange(date, 'accommodation.checkIn')}\n                  slotProps={{ textField: { fullWidth: true } }}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <DatePicker\n                  label=\"Check-out Date\"\n                  value={formData.accommodation.checkOut}\n                  onChange={(date) => handleDateChange(date, 'accommodation.checkOut')}\n                  slotProps={{ textField: { fullWidth: true } }}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  label=\"Booking Reference\"\n                  name=\"accommodation.bookingReference\"\n                  value={formData.accommodation.bookingReference}\n                  onChange={handleInputChange}\n                />\n              </Grid>\n\n              {/* Transportation */}\n              <Grid item xs={12}>\n                <Typography variant=\"h6\" gutterBottom>\n                  Transportation\n                </Typography>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  select\n                  label=\"Type\"\n                  name=\"transportation.type\"\n                  value={formData.transportation.type}\n                  onChange={handleInputChange}\n                >\n                  {transportationTypes.map((type) => (\n                    <MenuItem key={type} value={type}>\n                      {type}\n                    </MenuItem>\n                  ))}\n                </TextField>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Booking Reference\"\n                  name=\"transportation.bookingReference\"\n                  value={formData.transportation.bookingReference}\n                  onChange={handleInputChange}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <DatePicker\n                  label=\"Departure Time\"\n                  value={formData.transportation.departureTime}\n                  onChange={(date) => handleDateChange(date, 'transportation.departureTime')}\n                  slotProps={{ textField: { fullWidth: true } }}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <DatePicker\n                  label=\"Arrival Time\"\n                  value={formData.transportation.arrivalTime}\n                  onChange={(date) => handleDateChange(date, 'transportation.arrivalTime')}\n                  slotProps={{ textField: { fullWidth: true } }}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  label=\"Transportation Notes\"\n                  name=\"transportation.notes\"\n                  value={formData.transportation.notes}\n                  onChange={handleInputChange}\n                  multiline\n                  rows={2}\n                />\n              </Grid>\n\n              {/* Trip Status */}\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  select\n                  label=\"Trip Status\"\n                  name=\"status\"\n                  value={formData.status}\n                  onChange={handleInputChange}\n                >\n                  {tripStatuses.map((status) => (\n                    <MenuItem key={status} value={status}>\n                      {status.charAt(0).toUpperCase() + status.slice(1)}\n                    </MenuItem>\n                  ))}\n                </TextField>\n              </Grid>\n\n              {/* Submit Button */}\n              <Grid item xs={12}>\n                <Box sx={{ display: 'flex', gap: 2, justifyContent: 'flex-end' }}>\n                  <Button\n                    variant=\"outlined\"\n                    onClick={() => navigate('/trips')}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                  >\n                    {id ? 'Update Trip' : 'Create Trip'}\n                  </Button>\n                </Box>\n              </Grid>\n            </Grid>\n          </form>\n        </Paper>\n\n        {/* Activity Dialog */}\n        <Dialog\n          open={activityDialogOpen}\n          onClose={handleActivityDialogClose}\n          maxWidth=\"sm\"\n          fullWidth\n        >\n          <DialogTitle>\n            {currentActivity.index !== undefined ? 'Edit Activity' : 'Add Activity'}\n          </DialogTitle>\n          <DialogContent>\n            <Box sx={{ pt: 2 }}>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <TextField\n                    fullWidth\n                    label=\"Activity Name\"\n                    value={currentActivity.name}\n                    onChange={(e) => setCurrentActivity(prev => ({ ...prev, name: e.target.value }))}\n                    required\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <DatePicker\n                    label=\"Activity Date\"\n                    value={currentActivity.date}\n                    onChange={(date) => setCurrentActivity(prev => ({ ...prev, date }))}\n                    slotProps={{ textField: { fullWidth: true } }}\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    fullWidth\n                    label=\"Location\"\n                    value={currentActivity.location}\n                    onChange={(e) => setCurrentActivity(prev => ({ ...prev, location: e.target.value }))}\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    fullWidth\n                    label=\"Notes\"\n                    value={currentActivity.notes}\n                    onChange={(e) => setCurrentActivity(prev => ({ ...prev, notes: e.target.value }))}\n                    multiline\n                    rows={2}\n                  />\n                </Grid>\n              </Grid>\n            </Box>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleActivityDialogClose}>Cancel</Button>\n            <Button\n              onClick={handleActivitySave}\n              variant=\"contained\"\n              disabled={!currentActivity.name}\n            >\n              Save\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Container>\n    </LocalizationProvider>\n  );\n};\n\nexport default TripPlanner; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}