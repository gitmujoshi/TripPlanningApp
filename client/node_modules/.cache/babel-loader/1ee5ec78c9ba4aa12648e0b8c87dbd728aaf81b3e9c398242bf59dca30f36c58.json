{"ast":null,"code":"var _jsxFileName = \"/Users/mukeshjoshi/gitprojects/PlanningApp/client/src/contexts/TripContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { tripApi } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TripContext = /*#__PURE__*/createContext(undefined);\nexport const TripProvider = ({\n  children\n}) => {\n  _s();\n  const [trips, setTrips] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchTrips = async () => {\n    try {\n      setLoading(true);\n      const response = await tripApi.getTrips();\n      setTrips(response.data);\n      setError(null);\n    } catch (err) {\n      setError('Failed to fetch trips');\n      console.error('Error fetching trips:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getTrip = async id => {\n    try {\n      setLoading(true);\n      const response = await tripApi.getTrip(id);\n      return response.data;\n    } catch (err) {\n      setError('Failed to fetch trip');\n      console.error('Error fetching trip:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  const createTrip = async tripData => {\n    try {\n      setLoading(true);\n      const response = await tripApi.createTrip(tripData);\n      setTrips(prev => [...prev, response.data]);\n      setError(null);\n    } catch (err) {\n      setError('Failed to create trip');\n      console.error('Error creating trip:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  const updateTrip = async (id, tripData) => {\n    try {\n      setLoading(true);\n      const response = await tripApi.updateTrip(id, tripData);\n      setTrips(prev => prev.map(trip => trip._id === id ? response.data : trip));\n      setError(null);\n    } catch (err) {\n      setError('Failed to update trip');\n      console.error('Error updating trip:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  const deleteTrip = async id => {\n    try {\n      setLoading(true);\n      await tripApi.deleteTrip(id);\n      setTrips(prev => prev.filter(trip => trip._id !== id));\n      setError(null);\n    } catch (err) {\n      setError('Failed to delete trip');\n      console.error('Error deleting trip:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchTrips();\n  }, []);\n  const value = {\n    trips,\n    loading,\n    error,\n    fetchTrips,\n    getTrip,\n    createTrip,\n    updateTrip,\n    deleteTrip\n  };\n  return /*#__PURE__*/_jsxDEV(TripContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n};\n_s(TripProvider, \"DvbtZ87GMQ9mVZ7rLE002qgsIng=\");\n_c = TripProvider;\nexport const useTrips = () => {\n  _s2();\n  const context = useContext(TripContext);\n  if (context === undefined) {\n    throw new Error('useTrips must be used within a TripProvider');\n  }\n  return context;\n};\n_s2(useTrips, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"TripProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","tripApi","jsxDEV","_jsxDEV","TripContext","undefined","TripProvider","children","_s","trips","setTrips","loading","setLoading","error","setError","fetchTrips","response","getTrips","data","err","console","getTrip","id","createTrip","tripData","prev","updateTrip","map","trip","_id","deleteTrip","filter","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useTrips","_s2","context","Error","$RefreshReg$"],"sources":["/Users/mukeshjoshi/gitprojects/PlanningApp/client/src/contexts/TripContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { tripApi } from '../services/api';\n\ninterface Trip {\n  _id: string;\n  destination: string;\n  country: string;\n  startDate: Date | null;\n  endDate: Date | null;\n  description: string;\n  image: string;\n  budget: {\n    amount: number;\n    currency: string;\n  };\n  activities: Array<{\n    name: string;\n    date: Date | null;\n    location: string;\n    notes: string;\n  }>;\n  accommodation: {\n    name: string;\n    address: string;\n    checkIn: Date | null;\n    checkOut: Date | null;\n    bookingReference: string;\n  };\n  transportation: {\n    type: string;\n    bookingReference: string;\n    departureTime: Date | null;\n    arrivalTime: Date | null;\n    notes: string;\n  };\n  status: 'planned' | 'ongoing' | 'completed' | 'cancelled';\n}\n\ninterface TripContextType {\n  trips: Trip[];\n  loading: boolean;\n  error: string | null;\n  fetchTrips: () => Promise<void>;\n  getTrip: (id: string) => Promise<Trip>;\n  createTrip: (tripData: Omit<Trip, '_id'>) => Promise<void>;\n  updateTrip: (id: string, tripData: Partial<Trip>) => Promise<void>;\n  deleteTrip: (id: string) => Promise<void>;\n}\n\nconst TripContext = createContext<TripContextType | undefined>(undefined);\n\nexport const TripProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [trips, setTrips] = useState<Trip[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchTrips = async () => {\n    try {\n      setLoading(true);\n      const response = await tripApi.getTrips();\n      setTrips(response.data);\n      setError(null);\n    } catch (err) {\n      setError('Failed to fetch trips');\n      console.error('Error fetching trips:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getTrip = async (id: string): Promise<Trip> => {\n    try {\n      setLoading(true);\n      const response = await tripApi.getTrip(id);\n      return response.data;\n    } catch (err) {\n      setError('Failed to fetch trip');\n      console.error('Error fetching trip:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createTrip = async (tripData: Omit<Trip, '_id'>) => {\n    try {\n      setLoading(true);\n      const response = await tripApi.createTrip(tripData);\n      setTrips(prev => [...prev, response.data]);\n      setError(null);\n    } catch (err) {\n      setError('Failed to create trip');\n      console.error('Error creating trip:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateTrip = async (id: string, tripData: Partial<Trip>) => {\n    try {\n      setLoading(true);\n      const response = await tripApi.updateTrip(id, tripData);\n      setTrips(prev => prev.map(trip => \n        trip._id === id ? response.data : trip\n      ));\n      setError(null);\n    } catch (err) {\n      setError('Failed to update trip');\n      console.error('Error updating trip:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteTrip = async (id: string) => {\n    try {\n      setLoading(true);\n      await tripApi.deleteTrip(id);\n      setTrips(prev => prev.filter(trip => trip._id !== id));\n      setError(null);\n    } catch (err) {\n      setError('Failed to delete trip');\n      console.error('Error deleting trip:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchTrips();\n  }, []);\n\n  const value = {\n    trips,\n    loading,\n    error,\n    fetchTrips,\n    getTrip,\n    createTrip,\n    updateTrip,\n    deleteTrip,\n  };\n\n  return (\n    <TripContext.Provider value={value}>\n      {children}\n    </TripContext.Provider>\n  );\n};\n\nexport const useTrips = () => {\n  const context = useContext(TripContext);\n  if (context === undefined) {\n    throw new Error('useTrips must be used within a TripProvider');\n  }\n  return context;\n}; "],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC7E,SAASC,OAAO,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAgD1C,MAAMC,WAAW,gBAAGP,aAAa,CAA8BQ,SAAS,CAAC;AAEzE,OAAO,MAAMC,YAAqD,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACrF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAS,EAAE,CAAC;EAC9C,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAgB,IAAI,CAAC;EAEvD,MAAMgB,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACFH,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMI,QAAQ,GAAG,MAAMf,OAAO,CAACgB,QAAQ,CAAC,CAAC;MACzCP,QAAQ,CAACM,QAAQ,CAACE,IAAI,CAAC;MACvBJ,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZL,QAAQ,CAAC,uBAAuB,CAAC;MACjCM,OAAO,CAACP,KAAK,CAAC,uBAAuB,EAAEM,GAAG,CAAC;IAC7C,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMS,OAAO,GAAG,MAAOC,EAAU,IAAoB;IACnD,IAAI;MACFV,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMI,QAAQ,GAAG,MAAMf,OAAO,CAACoB,OAAO,CAACC,EAAE,CAAC;MAC1C,OAAON,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZL,QAAQ,CAAC,sBAAsB,CAAC;MAChCM,OAAO,CAACP,KAAK,CAAC,sBAAsB,EAAEM,GAAG,CAAC;MAC1C,MAAMA,GAAG;IACX,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMW,UAAU,GAAG,MAAOC,QAA2B,IAAK;IACxD,IAAI;MACFZ,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMI,QAAQ,GAAG,MAAMf,OAAO,CAACsB,UAAU,CAACC,QAAQ,CAAC;MACnDd,QAAQ,CAACe,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAET,QAAQ,CAACE,IAAI,CAAC,CAAC;MAC1CJ,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZL,QAAQ,CAAC,uBAAuB,CAAC;MACjCM,OAAO,CAACP,KAAK,CAAC,sBAAsB,EAAEM,GAAG,CAAC;MAC1C,MAAMA,GAAG;IACX,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMc,UAAU,GAAG,MAAAA,CAAOJ,EAAU,EAAEE,QAAuB,KAAK;IAChE,IAAI;MACFZ,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMI,QAAQ,GAAG,MAAMf,OAAO,CAACyB,UAAU,CAACJ,EAAE,EAAEE,QAAQ,CAAC;MACvDd,QAAQ,CAACe,IAAI,IAAIA,IAAI,CAACE,GAAG,CAACC,IAAI,IAC5BA,IAAI,CAACC,GAAG,KAAKP,EAAE,GAAGN,QAAQ,CAACE,IAAI,GAAGU,IACpC,CAAC,CAAC;MACFd,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZL,QAAQ,CAAC,uBAAuB,CAAC;MACjCM,OAAO,CAACP,KAAK,CAAC,sBAAsB,EAAEM,GAAG,CAAC;MAC1C,MAAMA,GAAG;IACX,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMkB,UAAU,GAAG,MAAOR,EAAU,IAAK;IACvC,IAAI;MACFV,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMX,OAAO,CAAC6B,UAAU,CAACR,EAAE,CAAC;MAC5BZ,QAAQ,CAACe,IAAI,IAAIA,IAAI,CAACM,MAAM,CAACH,IAAI,IAAIA,IAAI,CAACC,GAAG,KAAKP,EAAE,CAAC,CAAC;MACtDR,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZL,QAAQ,CAAC,uBAAuB,CAAC;MACjCM,OAAO,CAACP,KAAK,CAAC,sBAAsB,EAAEM,GAAG,CAAC;MAC1C,MAAMA,GAAG;IACX,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAEDZ,SAAS,CAAC,MAAM;IACde,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMiB,KAAK,GAAG;IACZvB,KAAK;IACLE,OAAO;IACPE,KAAK;IACLE,UAAU;IACVM,OAAO;IACPE,UAAU;IACVG,UAAU;IACVI;EACF,CAAC;EAED,oBACE3B,OAAA,CAACC,WAAW,CAAC6B,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAzB,QAAA,EAChCA;EAAQ;IAAA2B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAAC7B,EAAA,CApGWF,YAAqD;AAAAgC,EAAA,GAArDhC,YAAqD;AAsGlE,OAAO,MAAMiC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC5B,MAAMC,OAAO,GAAG3C,UAAU,CAACM,WAAW,CAAC;EACvC,IAAIqC,OAAO,KAAKpC,SAAS,EAAE;IACzB,MAAM,IAAIqC,KAAK,CAAC,6CAA6C,CAAC;EAChE;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,GAAA,CANWD,QAAQ;AAAA,IAAAD,EAAA;AAAAK,YAAA,CAAAL,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}